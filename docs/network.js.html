<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Adding meta -->
    

    <!-- Adding external script-->
    

    <!-- Adding external style-->
    

    <!-- Adding scripts-->
    

    <!-- Adding style-->
    

    <!-- Adding overlay script-->
    

    <!-- Adding overlay style-->
    


    <title>
      network.js
    </title>

    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/third-party/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/third-party/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/reset.css">
    <link type="text/css" rel="stylesheet" href="styles/heading.css">
    <link type="text/css" rel="stylesheet" href="styles/clean-jsdoc-theme-base.css">
    <link type="text/css" rel="stylesheet" href="styles/clean-jsdoc-theme-dark.css">
    
    <svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
    style="display:none">
    <defs>
        <symbol id="copy-icon" viewbox="0 0 488.3 488.3">
            <g>
                <path
                    d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z" />
                <path
                    d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z" />
            </g>
        </symbol>
        <symbol id='search-icon' viewBox="0 0 512 512">
            <g>
                <g>
                    <path
                        d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z" />
                </g>
            </g>
            <g>
                <g>
                    <path
                        d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z" />
                </g>
            </g>
        </symbol>
        <symbol id="down-icon" viewBox="0 0 16 16">
            <path 
                fill-rule="evenodd" 
                clip-rule="evenodd" 
                d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"
            >
            </path>
        </symbol>
    </defs>
</svg>
  </head>

  <body>

    <nav class="navbar" id="navbar">
      <div class="navbar-heading" id="navbar-heading"><a href="index.html"><h2 class="navbar-heading-text">Home</h2></a></div><div class="search-box" id="search-box"><div class="search-box-input-container"><input class="search-box-input" type="text" placeholder="Search..." id="search-box-input" /><svg class="search-icon" alt="search-icon"><use xlink:href="#search-icon"></use></svg></div><div class="search-item-container" id="search-item-container"><ul class="search-item-ul" id="search-item-ul"></ul></div></div><div class="sidebar-main-content" id="sidebar-main-content"><div class="accordion collapsed" id="7767341" > <h3 class="accordion-heading">Classes<svg><use xlink:href="#down-icon"></use></svg></h3><ul class="accordion-content"><li class="accordion-list" id=""><a href="Edge.html">Edge</a></li><li class="accordion collapsed child" id=313283><div class="accordion-heading child"><a href="Network.html">Network</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="Network.html#addEdge">addEdge</a></li><li data-type='method'><a href="Network.html#addNode">addNode</a></li><li data-type='method'><a href="Network.html#getEdgesBetween">getEdgesBetween</a></li><li data-type='method'><a href="Network.html#hasEdge">hasEdge</a></li><li data-type='method'><a href="Network.html#removeEdge">removeEdge</a></li><li data-type='method'><a href="Network.html#removeNode">removeNode</a></li></ul></li><li class="accordion-list" id=""><a href="Node.html">Node</a></li></ul> </div></div>
      

    </nav>
    <div class="navbar-ham" id="navbar-ham">
      <div>
        <div class="first"></div>
        <div class="second"></div>
        <div class="third"></div>
      </div>
    </div>

    <div id="main" class="main-content">
      
      <h1 id='page-title' class="page-title">
        network.js
      </h1>
      

      



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { Node } from "./node.js";
import { Edge } from "./edge.js";

/** Network class */

export class Network {
  /**
   * Network class constructor
   *
   * @param    {boolean}  [is_directed=false]   if true, edges are directed A -> B
   * @param    {number}   [edge_limit=500]      limit for number of edges in the network
   * @param    {number}   [node_limit=500]      limit for number of nodes in the network
   *
   * @property  {Map&lt;string|number, Node>}  nodes       Map with Network's nodes
   * @property  {Map&lt;string|number, Edge>}  edges       Map with Network's edges
   * @property  {boolean} is_directed    If true, edges are directed A -> B
   * @property  {number}  _edge_limit    Limit for number of edges in the network
   * @property  {number}  _node_limit    Limit for number of nodes in the network
   * @property  {number}  _freeNID      Last known free Node ID, used when creating unassigned IDs, and when an Node is deleted
   * @property  {number}  _freeEID      Last known free Edge ID, used when creating unassigned IDs, and when an Edge is deleted
   * @property  {boolean} is_multigraph True if network is a multigraph (more than one edge between two nodes)
   */
  constructor(is_directed = false, is_multigraph = false, edge_limit = 500, node_limit = 500) {
    this._edges = new Map();
    this._nodes = new Map();
    this.is_directed = is_directed;
    this._edge_limit = edge_limit;
    this._node_limit = node_limit;
    this._freeEID = 0;
    this._freeNID = 0;
    this.is_multigraph = is_multigraph;
  }

  get edges() {
    return this._edges;
  }

  get nodes() {
    return this._nodes;
  }

  get is_multigraph() {
    return this.is_multigraph;
  }

  /**
   * Adds a new edge to the newtwork
   *
   * @param  {string|number}  [id]      Edge's unique ID. If not given, an automatic ID will be generated
   * @param  {string|number}  nodeA     NodeA's ID
   * @param  {string|number}  nodeB     NodeB's ID
   * @param  {number}  [weight=1]       Edge's weight
   * @param  {boolean} [doForce=false]  If true, if either any of the nodes does not exist
   *
   * @example &lt;caption>Creating a network, and adding 2 nodes and an edge between them&lt;/caption>
   * import { Network } from './network.js'
   * const net = new Network();
   * // Adding nodes
   * net.addNode('A');
   * net.addNode('B');
   * // Adding edge
   * net.addEdge('coolEdge', 'A', 'B')
   *
   * @throws Error when trying to add existing edge
   * @throws Error when trying to add edge over allowed limit
   * @throws Error when trying to add edge on inexistent node (if not forcing edge)
   */
  addEdge(nodeA, nodeB, id = this._newEID(), doForce = false, weight = 1) {
    try {
      if (this._edges.has(id)) throw { message: Network.ERROR.EXISTING_EDGE };

      if (this._edges.size >= this._edge_limit)
        throw { message: Network.ERROR.EDGE_LIMIT };

      if (!doForce) {
        if (!this._nodes.has(nodeA))
          throw { message: Network.ERROR.INEXISTENT_NODE, node: nodeA };
        if (!this._nodes.has(nodeB))
          throw { message: Network.ERROR.INEXISTENT_NODE, node: nodeB };
      } else {
        if (!this._nodes.has(nodeA)) this.addNode({ id: nodeA });
        if (!this._nodes.has(nodeB)) this.addNode({ id: nodeB });
      }

      if (!this.is_multigraph &amp;&amp; this.hasEdge(nodeA, nodeB))
        throw { message: Network.ERROR.NOT_MULTIGRAPH };

    } catch (e) {
      this._showError(e);
    }

    id = id ?? this._newEID();


    this._edges.set(id, new Edge(nodeA, nodeB, weight));
  }

  /**
   * Adds a new node to the newtwork
   *
   * @param  {number|string} id   New node's ID
   * @param  {number} [weight=1]  Node's weight
   *
   * @throws Error when trying to add node over the limit
   * @throws Error when trying to add existing node
   */
  addNode(id, weight = 1) {
    try {
      if (this._nodes.size >= this._node_limit)
        throw { message: Network.ERROR.NODE_LIMIT };
      if (this._nodes.has(id))
        throw { message: Network.ERROR.EXISTING_NODE };
    } catch (e) {
      this._showError(e);
    }

    id = id ?? this._newNID();

    this._nodes.set(id, new Node(id, weight));
  }

  /**
   * Removes node with specified ID
   *
   * @param  {string|number}  id  ID for node to be deleted
   */
  removeNode(id) {
    try {
      if (!this._nodes.has(id))
        throw { message: Network.ERROR.INEXISTENT_NODE, node: id };
    } catch (e) {
      this._showError(e);
    }

    this._nodes.delete(id);
  }

  /**
   * Removes Edge with specified nodes
   *
   * @param  {string|number} nodeA       Node A's ID
   * @param  {string|number} nodeB       Node B's ID
   * @param  {string|number} [id]        Edge's ID, only necessary if the graph is a multigraph
   */
  removeEdge(nodeA, nodeB, id) {
    if (this.is_multigraph) {
      this._removeMultigraphEdge(id);
      return;
    }
    for ([edgeID, edge] of this._edges.entries()) {
      const { A, B } = edge.nodes;
      if ((A === nodeA &amp;&amp; B === nodeB) || (B === nodeA &amp;&amp; A === nodeB)) {
        this._edges.delete(edgeID);
        break;
      }
    }
  }


  /**
   * Returns a list with the IDs of all edges between nodeA and nodeB. If the network is not a multigraph, only one ID will be returned
   *
   * @param  {string|number} nodeA       Node A's ID
   * @param  {string|number} nodeB       Node B's ID
   *
   * @return {Array&lt;string>}  IDs for edges between A and B
   */
  getEdgesBetween (nodeA, nodeB) {
   let edge_list = [];
   for ([edgeID, edge] of this._edges.entries()) {
     const { A, B } = edge.nodes;
     if ((A === nodeA &amp;&amp; B === nodeB) || (B === nodeA &amp;&amp; A === nodeB)) {
       edge_list.push(edgeID);
     }
   }
   return edge_list;
  }


  /**
   * Returns true if there exists an edge between A and B
   *
   * @param {string|number} nodeA      Node A's ID
   * @param {string|number} nodeB      Node B's ID
   *
   * @return {boolean} Whether there exists an edge between A and B
   */
  hasEdge (nodeA, nodeB) {
    let has_edge = false;
    this.edges.forEach(({ nodes }, id) => {
      const { A, B } = nodes;
      if ((A === nodeA &amp;&amp; B === nodeB) || (B === nodeA &amp;&amp; A === nodeB))
        has_edge = true;
    });
    return has_edge;
  }

  /**
   * Removes multigraph edge
   * @private
   */
  _removeMultigraphEdge (id) {
    this.edges.delete(id);
  }

  /**
   * Generates new Edge ID
   * @private
   * @return {number}  Edge ID
   */
  _newEID() {
    const id = this._freeEID++;
    while (this._edges.has(id)) {
      id = Math.floor(Math.random(this._edge_limit));
    }
    return id;
  }

  /**
   * Generates new Node ID
   * @private
   * @return {number}  Node ID
   */
  _newNID() {
    const id = this._freeNID++;
    while (this._node.has(id)) {
      id = Math.floor(Math.random(this._node_limit));
    }
    return id;
  }

  /**
   * Logs caught errors
   * @private
   */
  _showError (error) {
    console.log(`${error.message}${(error.node === undefined ? '' : ' : ' + error.node)}`);
  }
}

Network.ERROR = {
  UNDEFINED_VALUES: "Undefined values being given as arguments!",
  EDGE_LIMIT: "Can't add new edge. Limit of Edges exceeded",
  NODE_LIMIT: "Can't add new node. Limit of Nodes exceeded",
  EXISTING_EDGE: "Trying to add an edge with already existing ID",
  EXISTING_NODE: "Trying to add a node with already existing ID",
  INEXISTENT_NODE: "Node doesn't exist",
  NOT_MULTIGRAPH: "Trying to add multiple edges between two nodes. Graph is not a multigraph!",
};
</code></pre>
        </article>
    </section>




    </div>

    <footer class="footer" id="footer">
      
    </footer>

    <script src="scripts/third-party/prettify.js"></script>
    <script src="scripts/third-party/lang-css.js"></script>
    <script type="text/javascript" src="scripts/misc.js"></script>

    <script>prettyPrint();</script>
    <script src="scripts/linenumber.js"></script>
    <script src="scripts/fix-code-block.js"></script>
    <script src="scripts/fix-navbar.js"></script>
    
      <script src="scripts/search.js"></script>
      <script src="scripts/third-party/fuse.js"></script>
      <script>
        var list = [{"title":"Edge","link":"<a href=\"Edge.html\">Edge</a>"},{"title":"Network","link":"<a href=\"Network.html\">Network</a>"},{"title":"Network#addEdge","link":"<a href=\"Network.html#addEdge\">Network &rtrif; addEdge</a>"},{"title":"Network#addNode","link":"<a href=\"Network.html#addNode\">Network &rtrif; addNode</a>"},{"title":"Network#getEdgesBetween","link":"<a href=\"Network.html#getEdgesBetween\">Network &rtrif; getEdgesBetween</a>"},{"title":"Network#hasEdge","link":"<a href=\"Network.html#hasEdge\">Network &rtrif; hasEdge</a>"},{"title":"Network#removeEdge","link":"<a href=\"Network.html#removeEdge\">Network &rtrif; removeEdge</a>"},{"title":"Network#removeNode","link":"<a href=\"Network.html#removeNode\">Network &rtrif; removeNode</a>"},{"title":"Node","link":"<a href=\"Node.html\">Node</a>"}];
        var options = 
          setupSearch(list, options)
      </script>
    

    

    

    

    


  </body>

</html>